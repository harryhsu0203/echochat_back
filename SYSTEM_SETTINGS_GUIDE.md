# 系統設定功能指南

## 概述

EchoChat應用程式現在包含完整的系統設定功能，允許用戶自定義應用程式的外觀、語言和互動體驗。這些設定與AI助理設定是分開的，專注於應用程式本身的系統級配置。

## 功能特色

### 🎨 外觀設定

#### 色彩模式
- **自動模式**：跟隨系統設定，自動切換淺色/深色模式
- **淺色模式**：始終使用淺色主題
- **深色模式**：始終使用深色主題
- **即時預覽**：在設定頁面可以看到不同模式的預覽

#### 字體大小
- **小**：適合小螢幕設備，節省空間
- **標準**：預設字體大小，平衡可讀性和空間利用
- **大**：適合閱讀，提高可讀性
- **特大**：適合視力不佳的用戶

### 🌍 語言設定

#### 支援的語言
- 繁體中文
- 簡體中文
- English
- 日本語
- 한국어
- Español
- Français
- Deutsch
- Italiano
- Português

#### 語言切換
- 即時語言切換
- 語言變更提示
- 下次啟動時生效

### ⚙️ 互動設定

#### 觸覺回饋
- 開啟/關閉觸覺回饋
- 不同強度的回饋效果
- 提升用戶體驗

#### 動畫效果
- 控制應用程式動畫
- 提升視覺體驗
- 可關閉以提升性能

#### 自動鎖定時間
- 1-30分鐘可調
- 保護隱私和安全
- 節省電池

### 📊 系統資訊

#### 設備資訊
- 應用程式版本
- iOS版本
- 設備型號
- 可用儲存空間

## 技術實現

### 設定管理
```swift
class AppSettingsManager: ObservableObject {
    @AppStorage("selectedLanguage") var selectedLanguage: String = "繁體中文"
    @AppStorage("colorScheme") var colorScheme: String = "自動"
    @AppStorage("fontSize") var fontSize: String = "標準"
    // ... 其他設定
}
```

### 色彩模式應用
```swift
.preferredColorScheme(settingsManager.currentColorScheme)
```

### 觸覺回饋
```swift
func triggerHapticFeedback(_ style: UIImpactFeedbackGenerator.FeedbackStyle = .medium) {
    guard enableHapticFeedback else { return }
    let impactFeedback = UIImpactFeedbackGenerator(style: style)
    impactFeedback.impactOccurred()
}
```

## 使用方法

### 1. 進入系統設定
1. 在應用程式中點擊「設定」標籤
2. 點擊「系統設定」按鈕
3. 進入系統設定頁面

### 2. 調整外觀
1. 在「外觀設定」區域選擇色彩模式
2. 調整字體大小
3. 查看預覽效果

### 3. 更改語言
1. 在「語言設定」區域點擊「系統語言」
2. 從支援的語言列表中選擇
3. 確認語言變更

### 4. 自定義互動
1. 在「互動設定」區域調整各項設定
2. 測試觸覺回饋效果
3. 設定自動鎖定時間

## 設定持久化

### 使用@AppStorage
- 所有設定都使用@AppStorage自動保存
- 應用程式重啟後設定保持不變
- 支援iCloud同步（如果啟用）

### 設定匯出/匯入
- 支援設定匯出功能
- 可以備份和恢復設定
- 支援跨設備設定同步

## 最佳實踐

### 性能優化
1. **動畫控制**：在低性能設備上可以關閉動畫
2. **字體大小**：根據設備螢幕大小選擇合適的字體
3. **自動鎖定**：根據使用習慣設定合適的時間

### 無障礙支援
1. **大字體**：支援特大字體大小
2. **高對比度**：深色模式提供更好的對比度
3. **觸覺回饋**：為視覺障礙用戶提供觸覺反饋

### 隱私保護
1. **自動鎖定**：防止未授權訪問
2. **設定保護**：重要設定需要確認
3. **數據安全**：設定數據本地存儲

## 故障排除

### 常見問題

1. **設定沒有生效**
   - 檢查是否保存了設定
   - 重新啟動應用程式
   - 檢查設備設定

2. **語言切換不成功**
   - 確認選擇了支援的語言
   - 重新啟動應用程式
   - 檢查系統語言設定

3. **色彩模式不正確**
   - 檢查系統色彩模式設定
   - 確認選擇了正確的模式
   - 重新啟動應用程式

### 調試技巧

1. **查看設定值**
   - 在設定頁面查看當前值
   - 使用Xcode調試器查看@AppStorage值

2. **重置設定**
   - 使用「重設為預設值」功能
   - 清除應用程式數據
   - 重新安裝應用程式

3. **測試功能**
   - 測試觸覺回饋
   - 測試動畫效果
   - 測試自動鎖定

## 未來擴展

### 計劃功能
- [ ] 更多語言支援
- [ ] 自定義主題色彩
- [ ] 手勢控制設定
- [ ] 語音回饋選項
- [ ] 鍵盤快捷鍵設定

### 技術改進
- [ ] 更精細的動畫控制
- [ ] 自定義字體支援
- [ ] 多設備同步
- [ ] 設定備份/恢復

## 開發者注意事項

### 代碼結構
- 使用MVVM架構
- 設定管理器單例模式
- 響應式UI更新

### 測試建議
- 測試所有設定組合
- 測試不同設備尺寸
- 測試無障礙功能
- 測試性能影響

### 維護指南
- 定期更新支援的語言
- 監控設定使用情況
- 優化設定載入性能
- 保持向後兼容性 